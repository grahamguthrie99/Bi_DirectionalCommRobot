#include <RF24.h>
#include <RF24_config.h>
#include <nRF24L01.h>
#include <printf.h>
#include <SPI.h>

#define laserPin 38
RF24 radio(7, 8); // CE, CSN
const byte address[6] = "00001";
boolean buttonState =0 ;
boolean laserState = 0;
boolean ledState = 0;


void setup() {
  //Built In LED
  pinMode(laserPin, OUTPUT);
  pinMode(LED_BUILTIN, OUTPUT);
  //Radio COMM
  radio.begin();
  radio.openReadingPipe(0, address);
  radio.setPALevel(RF24_PA_MIN);
  radio.startListening();
}
void loop() {
  if (radio.available()) {
    radio.read(&buttonState, sizeof(buttonState));
    ledState = buttonState;
    laserState = buttonState;
    digitalWrite(LED_BUILTIN, ledState);
    digitalWrite(laserPin, laserState);
    Serial.print(buttonState);
  }
}
